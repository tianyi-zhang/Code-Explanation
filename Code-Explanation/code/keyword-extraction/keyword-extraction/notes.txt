Note that SecureRandom objects are expensive to initialize, so you'll want to keep one around and reuse it.Note that you have to use Integer instead of int or you can't use a custom comparator.Note that this is bad coding style, although the compiler will almost certainly catch your error the moment you try to use d.Note that the returned type for asList() is a List using a concrete ArrayList implementation, but it is NOT java.util.ArrayList[EDIT: as commented below I no longer remember my reasoning for this sentence and it is likely wrong: "Note that this will only work in abstract classes, first of all."] The next difficulty is that g() only works from DIRECT subclasses of AWhile these objects store no time zone, note that time zone (ZoneId) is crucial in determining the current dateNote that it ignores all class and method information available in the LogRecord.Note that both of these solutions change the Date object passed as a parameter rather than returning a completely new DateNote that Iterator.remove is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified in any other way while the iteration is in progress.