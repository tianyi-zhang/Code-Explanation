def test_authorize_admin_actions_with_nonadmin_context_throws self for action in self actions self assertRaises exceptions PolicyForbidden policy get_enforcer authorize action self target self context
classmethod def native cls dsc DEFAULT_NATIVE opts None def wrapper fn wraps fn def _native_repo args repo cls import_native dsc opts return fn args repo repo return _native_repo return wrapper
classmethod def quilt30 cls dsc DEFAULT_QUILT30 opts None def wrapper fn wraps fn def _quilt30_repo args repo cls import_quilt30 dsc opts return fn args repo repo return _quilt30_repo return wrapper
classmethod def quilt30_additional_tarball cls dsc DEFAULT_ADDITIONAL_TAR opts None def wrapper fn wraps fn def _quilt30_additional_tar_repo args repo cls import_quilt30_additional_tarball dsc opts return fn args repo repo return _quilt30_additional_tar_repo return wrapper
classmethod def overlay cls debian DEFAULT_OVERLAY opts None def wrapper fn wraps fn def _overlay_mode_repo args repo cls import_debian_tarball debian opts return fn args repo repo return _overlay_mode_repo return wrapper
classmethod def import_native cls dsc DEFAULT_NATIVE opts None repo cls _import_one dsc opts ComponentTestBase _check_repo_state repo master master eq_ len repo get_commits 1 os chdir repo path return repo
classmethod def import_quilt30 cls dsc DEFAULT_QUILT30 opts None repo cls _import_one dsc opts expected_branches master upstream if opts and pristine tar in opts expected_branches append pristine tar ComponentTestBase _check_repo_state repo master expected_branches eq_ len repo get_commits 2 os chdir repo path return repo
classmethod def import_quilt30_additional_tarball cls dsc DEFAULT_ADDITIONAL_TAR opts None repo cls _import_one dsc opts expected_branches master upstream if opts and pristine tar in opts expected_branches append pristine tar ComponentTestBase _check_repo_state repo master expected_branches eq_ len repo get_commits 2 os chdir repo path ok_ os path exists foo return repo
classmethod def import_debian_tarball cls debian DEFAULT_OVERLAY opts None repo GitRepository create os path split 1 split _ 0 UnpackTarArchive debian repo path repo add_files repo commit_files msg debian dir expected_branches master ComponentTestBase _check_repo_state repo master expected_branches eq_ len repo get_commits 1 os chdir repo path return repo
def ArgumentsMatching kwargs return Matches MatchesStructure byEquality kwargs
pytest fixture def task_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id build_deps 0 return b for b in dep_ext get_children BuildDependency if b id exopy task 0
pytest fixture def interface_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id build_deps 0 return b for b in dep_ext get_children BuildDependency if b id exopy tasks interface 0
pytest fixture def driver_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id runtime_deps 0 return b for b in dep_ext get_children RuntimeDependencyAnalyser if b id INSTR_RUNTIME_TASK_DRIVERS_ID 0
pytest fixture def profile_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id runtime_deps 0 return b for b in dep_ext get_children RuntimeDependencyAnalyser if b id INSTR_RUNTIME_TASK_PROFILES_ID 0
pytest fixture def i_driver_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id runtime_deps 0 return b for b in dep_ext get_children RuntimeDependencyAnalyser if b id INSTR_RUNTIME_INTERFACE_DRIVERS_ID 0
pytest fixture def i_profile_dep_collector task_workbench plugin task_workbench get_plugin exopy tasks dep_ext e for e in plugin manifest extensions if e id runtime_deps 0 return b for b in dep_ext get_children RuntimeDependencyAnalyser if b id INSTR_RUNTIME_INTERFACE_PROFILES_ID 0
def test_analysing_task_dependencies monkeypatch task_workbench task_dep_collector runtime test plugin task_workbench get_plugin exopy tasks monkeypatch setattr plugin get_task_infos exopy ComplexTask dependencies runtime dep set errors dict run task_dep_collector analyse task_workbench ComplexTask getattr dep errors assert run runtime assert exopy ComplexTask in dep assert not errors dep set run task_dep_collector analyse task_workbench task_id __dummy__ getitem dep errors assert not run assert not dep assert __dummy__ in errors
def test_validating_task_dependencies task_workbench task_dep_collector errors task_dep_collector validate task_workbench exopy ComplexTask __dummy__ errors assert exopy ComplexTask not in errors assert __dummy__ in errors
def test_collecting_task_dependencies task_workbench task_dep_collector dependencies dict fromkeys exopy ComplexTask __dummy__ errors task_dep_collector collect task_workbench dependencies errors assert exopy ComplexTask in dependencies assert __dummy__ in errors
def test_analysing_interface_dependencies monkeypatch task_workbench interface_dep_collector runtime test interface exopy LoopTask exopy LinspaceLoopInterface plugin task_workbench get_plugin exopy tasks monkeypatch setattr plugin get_interface_infos interface dependencies runtime dep set errors dict run interface_dep_collector analyse task_workbench interface_id str interface getitem dep errors assert run runtime assert interface in dep assert not errors dep clear run interface_dep_collector analyse task_workbench interface_id LoopTask __dummy__ getitem dep errors assert not run assert not dep assert LoopTask __dummy__ in errors
def test_validating_interface_dependencies task_workbench interface_dep_collector errors interface_dep_collector validate task_workbench exopy LoopTask exopy LinspaceLoopInterface LoopTask __dummy__ errors assert exopy LoopTask exopy LinspaceLoopInterface not in errors assert LoopTask __dummy__ in errors
def test_collecting_interface_dependencies task_workbench interface_dep_collector dependencies dict fromkeys exopy LoopTask exopy LinspaceLoopInterface LoopTask __dummy__ errors interface_dep_collector collect task_workbench dependencies errors assert exopy LoopTask exopy LinspaceLoopInterface in dependencies assert LoopTask __dummy__ in errors
def test_analysing_instr_task_dependencies monkeypatch task_workbench task_dep_collector profile_dep_collector driver_dep_collector plugin task_workbench get_plugin exopy tasks plugin _tasks contributions exopy InstrumentTask TaskInfos cls InstrumentTask instruments test dep set errors dict t InstrumentTask selected_instrument test dummy c None run task_dep_collector analyse task_workbench t getattr dep errors assert run exopy tasks instruments drivers exopy tasks instruments profiles assert exopy InstrumentTask in dep assert not errors dep clear profile_dep_collector analyse task_workbench t dep errors assert test in dep assert not errors dep clear driver_dep_collector analyse task_workbench t dep errors assert dummy in dep assert not errors
def test_analysing_instr_interface_dependencies monkeypatch task_workbench interface_dep_collector i_profile_dep_collector i_driver_dep_collector class FalseI TaskInterface __slots__ __dict__ plugin task_workbench get_plugin exopy tasks p_infos TaskInfos cls InstrumentTask instruments test plugin _tasks contributions exopy InstrumentTask p_infos p_infos interfaces tasks FalseI InterfaceInfos cls FalseI instruments test parent p_infos dep set errors dict i FalseI t InstrumentTask selected_instrument test dummy c None i task t run interface_dep_collector analyse task_workbench i getattr dep errors assert run INSTR_RUNTIME_INTERFACE_DRIVERS_ID INSTR_RUNTIME_INTERFACE_PROFILES_ID assert exopy InstrumentTask tasks FalseI in dep assert not errors dep clear i_profile_dep_collector analyse task_workbench i dep errors assert test in dep assert not errors dep clear i_driver_dep_collector analyse task_workbench i dep errors assert dummy in dep assert not errors i selected_instrument test2 dummy2 c None dep clear i_profile_dep_collector analyse task_workbench i dep errors assert test2 in dep assert not errors dep clear i_driver_dep_collector analyse task_workbench i dep errors assert dummy2 in dep assert not errors
def __init__ self Unique __init__ self combat cibles self _cibles
def a_cible self personnage return personnage id in self _cibles keys
def get_cible self personnage cible self _cibles get personnage id if cible cible cible get_objet return cible
def ajouter_cible self personnage cible self _cibles personnage id cible id
def retirer_cible self personnage if personnage id in self _cibles keys del self _cibles personnage id
def __init__ self Unique __init__ self combat choix self _choix
def a_choix self personnage return personnage id in self _choix keys
def get_choix self personnage cibles self _cibles get personnage id if cibles cibles tuple c get_objet for c in cibles return cibles
def ajouter_cible self personnage cible self _cibles personnage id cible id
def retirer_cible self personnage if personnage id in self _cibles keys del self _cibles personnage id
def create_top_scope arch_info scope Scope int_type nodes SignedIntegerType integer arch_info get_size int scope add_symbol int_type char_type nodes SignedIntegerType char 1 scope add_symbol char_type bool_type nodes SignedIntegerType bool arch_info get_size int scope add_symbol bool_type len_field nodes StructField len int_type txt nodes StructField txt nodes ArrayType char_type 0 string_type nodes PointerType nodes StructureType len_field txt string_def_type nodes DefinedType string string_type True None scope add_symbol string_def_type return scope
def equal_types self a b byname False a self get_type a b self get_type b if type a is type b if isinstance a nodes IntegerType return a bits b bits elif isinstance a nodes PointerType return self equal_types a ptype b ptype byname True elif isinstance a nodes DefinedType return a name b name elif isinstance a nodes StructureType if len a fields len b fields return False return all self equal_types am typ bm typ for am bm in zip a fields b fields elif isinstance a nodes ArrayType return self equal_types a element_type b element_type else raise NotImplementedError str type a return False
def get_common_type self a b loc intType self get_type integer charType self get_type char table intType intType intType intType charType intType charType intType intType charType charType charType intType nodes PointerType intType typ_a self get_type a typ typ_b self get_type b typ if self equal_types typ_a typ_b return typ_a if isinstance typ_a nodes PointerType and self equal_types typ_b integer return typ_a key typ_a typ_b if key not in table raise CompilerError Types and do not commute format typ_a typ_b loc return table typ_a typ_b
def pack_string self txt length self pack_int len txt data txt encode ascii return length data
